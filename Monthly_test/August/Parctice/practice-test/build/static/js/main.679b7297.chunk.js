(this["webpackJsonppractice-test"]=this["webpackJsonppractice-test"]||[]).push([[0],{21:function(e){e.exports=JSON.parse('{"web":{"client_id":"924877603900-2hh5853bp4ce4h97lv16da6pu0u9bohj.apps.googleusercontent.com","project_id":"analog-carport-287104","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_secret":"PDtufHaXChsr5Igt68Or5SNB","javascript_origins":["https://react-demo-login-signup.herokuapp.com","http://localhost:3000"]}}')},31:function(e,t,a){e.exports=a(45)},40:function(e,t,a){},41:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),i=a(7),l=a(8),s=a(19),u=a(16),m={firstname:"",lastname:"",email:"",image:""},p={},g=function(e,t){switch(e=e||p,t.type){case"@@user/save":var a=Object(u.a)(Object(u.a)({},m),{},{firstname:t.payload.firstname,lastname:t.payload.lastname,email:t.payload.email,image:t.payload.image});return Object(u.a)(Object(u.a)({},e),a);default:return e}},d=Object(s.b)(g),h=(a(40),a(10)),f=a(11),b=a(13),v=a(12),w=(a(41),a(2)),E=a(30),O=a.n(E),j="/",k="/profile",y=a(14),N=a.n(y),_=a(20),I=a(21),S=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onSignInClick=function(){var t=Object(_.a)(N.a.mark((function t(a){var n,r,c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.auth.signIn();case 3:n=e.props.history,r=e.auth.currentUser.get().wc.access_token,c=e.auth.currentUser.get().rt,localStorage.setItem("access_token",r),localStorage.setItem("user_info",JSON.stringify({firstname:c.tV,lastname:c.uT,email:c.$t,image:c.TJ})),e.props.saveUser(c.tV,c.uT,c.$t,c.TJ),n.push("/profile");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.gapi.load("client:auth2",(function(){window.gapi.client.init({clientId:I.web.client_id,scope:"email profile openid"}).then((function(){e.auth=window.gapi.auth2.getAuthInstance()}))}))}},{key:"render",value:function(){return r.a.createElement("form",null,r.a.createElement("h3",null,"Sign In"),r.a.createElement("button",{onClick:this.onSignInClick,className:"btn btn-primary btn-block"},"Sign In with Google"))}}]),a}(n.Component),x=Object(l.b)(null,(function(e){return{saveUser:function(t,a,n,r){return e({type:"@@user/save",payload:{firstname:t,lastname:a,email:n,image:r}})}}}))(S),C=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).clickedLogoutButton=function(){var t=Object(_.a)(N.a.mark((function t(a){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),console.log("logout button clicked"),n=e.props.history,localStorage.clear(),e.auth.isSignedIn.get()&&e.auth.signOut(),n.push(j);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.gapi.load("client:auth2",(function(){window.gapi.client.init({clientId:I.web.client_id,scope:"email profile openid"}).then((function(){e.auth=window.gapi.auth2.getAuthInstance()}))}))}},{key:"render",value:function(){var e,t,a,n,c=this.props.user_info;return console.log("userdata from redux store --\x3e ",c),c&&(e=c.firstname,t=c.lastname,a=c.email,n=c.image),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"span4 well"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"span1",id:"img"},r.a.createElement("img",{src:n,alt:"",width:"100px",height:"100px"})),r.a.createElement("div",{className:"span3"},r.a.createElement("p",null,a),r.a.createElement("p",null,r.a.createElement("strong",null,"".concat(e," ").concat(t))),r.a.createElement("span",{className:" badge badge-warning"},"8 messages")," ",r.a.createElement("span",{className:" badge badge-info"},"15 followers")),r.a.createElement("button",{id:"logout",type:"button",className:"btn btn-danger btn-block btn-sm",onClick:this.clickedLogoutButton},"Sign Out")))))}}]),a}(n.Component),D=Object(l.b)((function(e){return console.log(e),{user_info:e}}))(C),J=[{path:j,exact:!0,isProtected:!1,component:x},{path:k,exact:!0,isProtected:!0,component:D}],A=a(22),U=function(e){var t=e.component,a=Object(A.a)(e,["component"]),n=!!localStorage.getItem("access_token");return r.a.createElement(w.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,Object.assign({},a,e)):r.a.createElement(w.a,{to:j})}}))},B=function(e){var t=e.component,a=Object(A.a)(e,["component"]),n=!!localStorage.getItem("access_token");return r.a.createElement(w.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(w.a,{to:k}):r.a.createElement(t,Object.assign({},a,e))}}))},P=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("user_info"));if(e){var t=e.firstname,a=e.lastname,n=e.email,r=e.image;this.props.saveUser(t,a,n,r)}}},{key:"render",value:function(){return r.a.createElement(i.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light fixed-top"},r.a.createElement("div",{className:"container"},r.a.createElement(i.b,{className:"navbar-brand",to:j},"Practice App"),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo02"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.b,{className:"nav-link",to:j},"Sign In")),r.a.createElement("li",{className:"nav-item"}))))),r.a.createElement("div",{className:"auth-wrapper"},r.a.createElement("div",{className:"auth-inner"},r.a.createElement(w.d,null,O.a.map(J,(function(e,t){return e.isProtected?r.a.createElement(U,Object.assign({key:t},e)):r.a.createElement(B,Object.assign({key:t},e))})))))))}}]),a}(r.a.Component),T=Object(l.b)(null,(function(e){return{saveUser:function(t,a,n,r){return e({type:"@@user/save",payload:{firstname:t,lastname:a,email:n,image:r}})}}}))(P);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(i.a,null,r.a.createElement(l.a,{store:d},r.a.createElement(T,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.679b7297.chunk.js.map